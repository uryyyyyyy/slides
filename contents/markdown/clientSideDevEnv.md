
## お前だれよ

* 柴田幸輝
* 社会人・プログラマ歴 ２年
* お仕事 ： 社内システム開発・技術研究
* 言語 ： Java・Scala・JavaScript
	- 静的型付け言語好き
	- 関数型プログラミング学びたい。
* 趣味 ： 初音ミク
* 最近 ： SurfaceにUbuntu入れたけどイマイチです。。。

---

## 話すこと

今開発を始めているシステムのクライアントサイド基盤

* やりたいこと
* 各種フレームワークの所感
* 独自開発環境の説明

時間なかったので手抜きですすみません。

ソースは[こちら](https://github.com/uryyyyyyy/simpleWebDevTool)（古いので後日書き直す）

---

## やりたいこと

* 速度が超大事
* そんなに複雑なシステムにはしない。（少なくとも画面側は）
* 保守しやすさ大事
* クライアント単体でMockとして動いて欲しい。
* その他

---


## 各種フレームワークの所感

詳細は[コチラ](https://github.com/uryyyyyyy/simpleWebDevTool/blob/master/README.md#%E4%BB%96%E3%83%95%E3%83%AC%E3%83%BC%E3%83%A0%E3%83%AF%E3%83%BC%E3%82%AF%E3%81%AE%E5%80%8B%E4%BA%BA%E7%9A%84%E8%A6%8B%E8%A7%A3)（今見るとしょぼいので後日書き直したい。。。）

--

簡単に言うと

* Data-binding系は使いたくない。
	- 裏で変わるとデバッグしにくい。
	- Angularなどは監視対象が増えると重たい。
	- Modelの構造がDOMに依存する。
* Collection系はライブラリで十分。
* Senchaのツール群は魅力だけど有料の時点で難しい。
* 非同期処理はPromiseでいける。
* やっぱりjQuery製コンポーネント使いたい。

→フレームワークなくていいや。

---

## 独自開発環境

機能群

* 簡易サーバーで単体で開発可能
* Enterprise風レイヤー分割
* なるべくステートレス

--

## 簡易サーバーで単体で開発可能

* Single−Page-Application
* 静的ファイルサーバーを起動
* jsonAPIを提供するサーバーも立ててリバースプロキシしてる。

--

## Enterprise風レイヤー分割

* Component
	- 各種jQuryプラグインやDOMをラップする役割
	- 値やイベントはこのオブジェクトのメソッドにかませる。
* Controller
	- routing毎に１つのコントローラが生成される。
	- HTMLとComponentとService間をつなげる役割
* Service
	- Logic部。ControllerとDaoを繋ぐ
	- 主にContorllerから来たデータを処理して返す。


--

* DAO
	- 外部と通信する役割。
	- といってもAPサーバーへデータを送るだけなのでURL置き場になってる

* その他
	- appRouteでパラメータとHTMLテンプレートをControllerに送る。
	- util群はなんか適当に置いてる。

--

## なるべくステートレス

各種フレームワークで言われている純粋なモデルのメリットがわからない。

基本的にはイベントがあったら必要なデータをcomponentから取得して処理して返している。


---

## その他

bowerで取り込んだものをまとめようとすると怒られることがあったので、下手にminifyとかしないことにした。

非同期処理にPromiseを覚えてからかなり読みやすくなった。

イベント処理にbacon.jsを使っていたが、今の規模なら必要なかった＆ストリームに流せる引数がひとつだけなのでjQueryコンポーネントと相性が悪かった。
